<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.6"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>librdesc: include/rdesc.h File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">librdesc
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.6 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_d44c64559bbebec7f509842c48db8b23.html">include</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#nested-classes">Classes</a> &#124;
<a href="#define-members">Macros</a> &#124;
<a href="#enum-members">Enumerations</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle"><div class="title">rdesc.h File Reference</div></div>
</div><!--header-->
<div class="contents">

<p>The Right-Recursive Descent Parser.  
<a href="#details">More...</a></p>
<div class="textblock"><code>#include &quot;<a class="el" href="cfg_8h_source.html">cfg.h</a>&quot;</code><br />
<code>#include &lt;stddef.h&gt;</code><br />
</div>
<p><a href="rdesc_8h_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="nested-classes" name="nested-classes"></a>
Classes</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structrdesc.html">rdesc</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Right-recursive descent parser.  <a href="structrdesc.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structrdesc__node.html">rdesc_node</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight"><a class="el" href="classA.html">A</a> node in the CST.  <a href="structrdesc__node.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="define-members" name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:a444e26b41f93ae91fc18de2f6990704c"><td class="memItemLeft" align="right" valign="top"><a id="a444e26b41f93ae91fc18de2f6990704c" name="a444e26b41f93ae91fc18de2f6990704c"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>RDESC_VERSION_MAJOR</b>&#160;&#160;&#160;0</td></tr>
<tr class="memdesc:a444e26b41f93ae91fc18de2f6990704c"><td class="mdescLeft">&#160;</td><td class="mdescRight">major version <br /></td></tr>
<tr class="separator:a444e26b41f93ae91fc18de2f6990704c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac26ce46ec1c0fcefbf059b54ae345508"><td class="memItemLeft" align="right" valign="top"><a id="ac26ce46ec1c0fcefbf059b54ae345508" name="ac26ce46ec1c0fcefbf059b54ae345508"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>RDESC_VERSION_MINOR</b>&#160;&#160;&#160;1</td></tr>
<tr class="memdesc:ac26ce46ec1c0fcefbf059b54ae345508"><td class="mdescLeft">&#160;</td><td class="mdescRight">minor version <br /></td></tr>
<tr class="separator:ac26ce46ec1c0fcefbf059b54ae345508"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2d00951dda9061078ef18db1b6163568"><td class="memItemLeft" align="right" valign="top"><a id="a2d00951dda9061078ef18db1b6163568" name="a2d00951dda9061078ef18db1b6163568"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>RDESC_VERSION_PATCH</b>&#160;&#160;&#160;0</td></tr>
<tr class="memdesc:a2d00951dda9061078ef18db1b6163568"><td class="mdescLeft">&#160;</td><td class="mdescRight">patch version <br /></td></tr>
<tr class="separator:a2d00951dda9061078ef18db1b6163568"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a09740b75a26b197222bc2b9510707f1a"><td class="memItemLeft" align="right" valign="top"><a id="a09740b75a26b197222bc2b9510707f1a" name="a09740b75a26b197222bc2b9510707f1a"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>RDESC_VERSION_PRE_RELEASE</b>&#160;&#160;&#160;&quot;&quot;</td></tr>
<tr class="memdesc:a09740b75a26b197222bc2b9510707f1a"><td class="mdescLeft">&#160;</td><td class="mdescRight">prerelase identifier <br /></td></tr>
<tr class="separator:a09740b75a26b197222bc2b9510707f1a"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="enum-members" name="enum-members"></a>
Enumerations</h2></td></tr>
<tr class="memitem:ae1c47d0d0fe6789f714eaaab2f24983d"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rdesc_8h.html#ae1c47d0d0fe6789f714eaaab2f24983d">rdesc_result</a> { <a class="el" href="rdesc_8h.html#ae1c47d0d0fe6789f714eaaab2f24983da3536c3180b6d6af0186a3572137154c3">RDESC_READY</a>
, <a class="el" href="rdesc_8h.html#ae1c47d0d0fe6789f714eaaab2f24983daa5713dde97680749b32c95d7173ab2e0">RDESC_CONTINUE</a>
, <a class="el" href="rdesc_8h.html#ae1c47d0d0fe6789f714eaaab2f24983da49ef64d4013eddadfd25db97f7e448bc">RDESC_NOMATCH</a>
 }</td></tr>
<tr class="memdesc:ae1c47d0d0fe6789f714eaaab2f24983d"><td class="mdescLeft">&#160;</td><td class="mdescRight">parsing status  <a href="rdesc_8h.html#ae1c47d0d0fe6789f714eaaab2f24983d">More...</a><br /></td></tr>
<tr class="separator:ae1c47d0d0fe6789f714eaaab2f24983d"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="func-members" name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a3e8cb1fd995aee3b74a33c307a1314c0"><td class="memItemLeft" align="right" valign="top"><a id="a3e8cb1fd995aee3b74a33c307a1314c0" name="a3e8cb1fd995aee3b74a33c307a1314c0"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><b>rdesc_init</b> (struct <a class="el" href="structrdesc.html">rdesc</a> *p, const struct <a class="el" href="structrdesc__cfg.html">rdesc_cfg</a> *cfg)</td></tr>
<tr class="memdesc:a3e8cb1fd995aee3b74a33c307a1314c0"><td class="mdescLeft">&#160;</td><td class="mdescRight">Initializes a new parser. <br /></td></tr>
<tr class="separator:a3e8cb1fd995aee3b74a33c307a1314c0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af5a7af3cfaf7cee725ea16e381b8b802"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rdesc_8h.html#af5a7af3cfaf7cee725ea16e381b8b802">rdesc_destroy</a> (struct <a class="el" href="structrdesc.html">rdesc</a> *p)</td></tr>
<tr class="memdesc:af5a7af3cfaf7cee725ea16e381b8b802"><td class="mdescLeft">&#160;</td><td class="mdescRight">Frees memory allocated by the parser and destroys the parser instance.  <br /></td></tr>
<tr class="separator:af5a7af3cfaf7cee725ea16e381b8b802"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac7a5a9216cec0e28bf322033b4cce868"><td class="memItemLeft" align="right" valign="top"><a id="ac7a5a9216cec0e28bf322033b4cce868" name="ac7a5a9216cec0e28bf322033b4cce868"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><b>rdesc_start</b> (struct <a class="el" href="structrdesc.html">rdesc</a> *p, int start_symbol)</td></tr>
<tr class="memdesc:ac7a5a9216cec0e28bf322033b4cce868"><td class="mdescLeft">&#160;</td><td class="mdescRight">Sets start symbol for the next match. <br /></td></tr>
<tr class="separator:ac7a5a9216cec0e28bf322033b4cce868"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2bb5513ad0d0731e294d45a258af470c"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rdesc_8h.html#a2bb5513ad0d0731e294d45a258af470c">rdesc_reset</a> (struct <a class="el" href="structrdesc.html">rdesc</a> *p, <a class="el" href="cfg_8h.html#a8075bb1c1a1b01db066ab5432a1294d7">rdesc_tk_destroyer_func</a> free_tk)</td></tr>
<tr class="memdesc:a2bb5513ad0d0731e294d45a258af470c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Resets parser and its state.  <br /></td></tr>
<tr class="separator:a2bb5513ad0d0731e294d45a258af470c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0ee02a12a5756d220893859decd7b663"><td class="memItemLeft" align="right" valign="top">enum <a class="el" href="rdesc_8h.html#ae1c47d0d0fe6789f714eaaab2f24983d">rdesc_result</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rdesc_8h.html#a0ee02a12a5756d220893859decd7b663">rdesc_pump</a> (struct <a class="el" href="structrdesc.html">rdesc</a> *p, struct <a class="el" href="structrdesc__node.html">rdesc_node</a> **out, struct <a class="el" href="structrdesc__cfg__token.html">rdesc_cfg_token</a> *incoming_tk)</td></tr>
<tr class="memdesc:a0ee02a12a5756d220893859decd7b663"><td class="mdescLeft">&#160;</td><td class="mdescRight">Drives the parsing process, The Pump.  <br /></td></tr>
<tr class="separator:a0ee02a12a5756d220893859decd7b663"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a734ff0849ad6c014d742668c0982c74b"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rdesc_8h.html#a734ff0849ad6c014d742668c0982c74b">rdesc_node_destroy</a> (struct <a class="el" href="structrdesc__node.html">rdesc_node</a> *n, <a class="el" href="cfg_8h.html#a8075bb1c1a1b01db066ab5432a1294d7">rdesc_tk_destroyer_func</a> free_tk)</td></tr>
<tr class="memdesc:a734ff0849ad6c014d742668c0982c74b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Recursively destroys the node and its children.  <br /></td></tr>
<tr class="separator:a734ff0849ad6c014d742668c0982c74b"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>The Right-Recursive Descent Parser. </p>
</div><h2 class="groupheader">Enumeration Type Documentation</h2>
<a id="ae1c47d0d0fe6789f714eaaab2f24983d" name="ae1c47d0d0fe6789f714eaaab2f24983d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae1c47d0d0fe6789f714eaaab2f24983d">&#9670;&#160;</a></span>rdesc_result</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="rdesc_8h.html#ae1c47d0d0fe6789f714eaaab2f24983d">rdesc_result</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>parsing status </p>
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><a id="ae1c47d0d0fe6789f714eaaab2f24983da3536c3180b6d6af0186a3572137154c3" name="ae1c47d0d0fe6789f714eaaab2f24983da3536c3180b6d6af0186a3572137154c3"></a>RDESC_READY&#160;</td><td class="fielddoc"><p>a tree is ready for consumption </p>
</td></tr>
<tr><td class="fieldname"><a id="ae1c47d0d0fe6789f714eaaab2f24983daa5713dde97680749b32c95d7173ab2e0" name="ae1c47d0d0fe6789f714eaaab2f24983daa5713dde97680749b32c95d7173ab2e0"></a>RDESC_CONTINUE&#160;</td><td class="fielddoc"><p>new tokens should be provided </p>
</td></tr>
<tr><td class="fieldname"><a id="ae1c47d0d0fe6789f714eaaab2f24983da49ef64d4013eddadfd25db97f7e448bc" name="ae1c47d0d0fe6789f714eaaab2f24983da49ef64d4013eddadfd25db97f7e448bc"></a>RDESC_NOMATCH&#160;</td><td class="fielddoc"><p>provided tokens do not match with any rule </p>
</td></tr>
</table>

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a id="af5a7af3cfaf7cee725ea16e381b8b802" name="af5a7af3cfaf7cee725ea16e381b8b802"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af5a7af3cfaf7cee725ea16e381b8b802">&#9670;&#160;</a></span>rdesc_destroy()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void rdesc_destroy </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structrdesc.html">rdesc</a> *&#160;</td>
          <td class="paramname"><em>p</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Frees memory allocated by the parser and destroys the parser instance. </p>
<dl class="section warning"><dt>Warning</dt><dd>The token stack must be empty and no parse in progress before calling this function to prevent memory leaks. Raises an assertion error if the token stack is not empty or the root is not null. </dd></dl>

</div>
</div>
<a id="a734ff0849ad6c014d742668c0982c74b" name="a734ff0849ad6c014d742668c0982c74b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a734ff0849ad6c014d742668c0982c74b">&#9670;&#160;</a></span>rdesc_node_destroy()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void rdesc_node_destroy </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structrdesc__node.html">rdesc_node</a> *&#160;</td>
          <td class="paramname"><em>n</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="cfg_8h.html#a8075bb1c1a1b01db066ab5432a1294d7">rdesc_tk_destroyer_func</a>&#160;</td>
          <td class="paramname"><em>free_tk</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Recursively destroys the node and its children. </p>
<dl class="section note"><dt>Note</dt><dd><code>seminfo</code> field in <code>struct <a class="el" href="structrdesc__cfg__token.html" title="terminal (token) object for context-free grammar">rdesc_cfg_token</a></code> are not freed unless <code>free_tk</code> is set. </dd></dl>

</div>
</div>
<a id="a0ee02a12a5756d220893859decd7b663" name="a0ee02a12a5756d220893859decd7b663"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0ee02a12a5756d220893859decd7b663">&#9670;&#160;</a></span>rdesc_pump()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="rdesc_8h.html#ae1c47d0d0fe6789f714eaaab2f24983d">rdesc_result</a> rdesc_pump </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structrdesc.html">rdesc</a> *&#160;</td>
          <td class="paramname"><em>p</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structrdesc__node.html">rdesc_node</a> **&#160;</td>
          <td class="paramname"><em>out</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structrdesc__cfg__token.html">rdesc_cfg_token</a> *&#160;</td>
          <td class="paramname"><em>incoming_tk</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Drives the parsing process, The Pump. </p>
<p>As the central engine of the parser, it consumes tokens from either the internal backtracking stack or the provided <code>incoming_tk</code>.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">p</td><td>Pointer to the parser instance. </td></tr>
    <tr><td class="paramname">out</td><td>Output pointer for the resulting CST node (if READY). </td></tr>
    <tr><td class="paramname">incoming_tk</td><td>Pointer to the next token to consume.<ul>
<li>Optional: Pass <code>NULL</code> to resume parsing using only the tokens currently in the backtracking stack.</li>
<li>Storage: The pointer is used solely to make the argument nullable (optional). It does not imply that the token must be heap-allocated. Passing a pointer to a stack-allocated (automatic) variable is valid and expected, as the parser copies the token data internally.</li>
</ul>
</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The current status of the parse operation. </dd></dl>

</div>
</div>
<a id="a2bb5513ad0d0731e294d45a258af470c" name="a2bb5513ad0d0731e294d45a258af470c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2bb5513ad0d0731e294d45a258af470c">&#9670;&#160;</a></span>rdesc_reset()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void rdesc_reset </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structrdesc.html">rdesc</a> *&#160;</td>
          <td class="paramname"><em>p</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="cfg_8h.html#a8075bb1c1a1b01db066ab5432a1294d7">rdesc_tk_destroyer_func</a>&#160;</td>
          <td class="paramname"><em>free_tk</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Resets parser and its state. </p>
<dl class="section note"><dt>Note</dt><dd><code>seminfo</code> field in <code>struct <a class="el" href="structrdesc__cfg__token.html" title="terminal (token) object for context-free grammar">rdesc_cfg_token</a></code> are not freed unless <code>free_tk</code> is set. </dd></dl>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.6
</small></address>
</body>
</html>
